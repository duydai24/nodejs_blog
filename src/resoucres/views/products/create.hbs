<div class='m-5'>
  <form method='POST' action='/products/store'>
    <div class='form-group'>
      <label for='name'>Tên sản phẩm: </label>
      <input
        type='text'
        class='form-control'
        id='name'
        name='name'
        placeholder='Enter tên' />
    </div>
    <div class='form-group'>
      <label for='image'>Ảnh sản phẩm: </label>
      <input
        type='file'
        class='form-control'
        id='image'
        name='image'
        value
        placeholder='Enter image' />
      <img id='previewImage' src alt='Preview' style='display: none;' width="400px" height="auto">
      <input
        style="visibility: hidden;"
        type='text'
        class='form-control'
        id='imageBase64'
        name='imageBase64'
        value
        placeholder='Enter image' />
    </div>

    <div class='form-group'>
      <label for='description'>Mô tả sản phẩm: </label>
      <textarea
        type='text'
        class='form-control'
        id='description'
        name='description'
        placeholder='Enter description'></textarea>
    </div>
    <div class='form-group'>
      <label for='price'>Giá gốc sản phẩm: </label>
      <input
        type='text'
        class='form-control'
        id='price'
        name='price'
        placeholder='Enter price' />
    </div>
    <div class='form-group'>
      <label for='sale'>Giá đang sale sản phẩm:</label>
      <input
        type='text'
        class='form-control'
        id='sale'
        name='sale'
        placeholder='Enter sale' />
    </div>
    <div class='form-group'>
      <label for='star'>Số sao đạt được: </label>
      <input
        type='text'
        class='form-control'
        id='star'
        name='star'
        placeholder='Enter star' />
    </div>
    <div class='form-group'>
      <label for='sold'>Số lượng đã bán: </label>
      <input
        type='text'
        class='form-control'
        id='sold'
        name='sold'
        placeholder='Enter sold' />
    </div>
    <div class='form-group'>
      <label for='address'>Địa chỉ: </label>
      <input
        type='text'
        class='form-control'
        id='address'
        name='address'
        placeholder='Enter address' />
    </div>
    <button type='submit' class='btn btn-primary'>Thêm sản phẩm</button>
  </form>
</div>

<script>
function previewImage(event) {
  const file = event.target.files[0];

  const reader = new FileReader();
  reader.onload = function(e) {
    const base64Image = e.target.result;
    const previewImage = document.getElementById('previewImage');
    previewImage.src = base64Image;
    previewImage.style.display = 'block';

    // Gán giá trị base64 cho thẻ input
    const imageInput = document.getElementById('imageBase64');
    imageInput.value = base64Image;
  };

  reader.readAsDataURL(file);
}

const imageInput = document.getElementById('image');
imageInput.addEventListener('change', previewImage);


</script>
